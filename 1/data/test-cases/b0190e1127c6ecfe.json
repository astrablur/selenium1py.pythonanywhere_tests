{"uid":"b0190e1127c6ecfe","name":"Guest can add product to basket","fullName":"tests.test_product_page.TestProductPage#test_guest_can_add_product_to_basket","historyId":"0a10ff1768cd502ce303d1d602610ab1","time":{"start":1767124875790,"stop":1767124877807,"duration":2017},"status":"skipped","statusMessage":"XFAIL\n\nAssertionError: Product name should be \"Coders at Work\", but product name in alert is \"Coders at Work book\"","statusTrace":"self = <tests.test_product_page.TestProductPage object at 0x7f484b48e6d0>\nnum = 7\nproduct_page = <pages.product_page.ProductPage object at 0x7f484b4fd810>\n\n    @allure.feature('Product page')\n    @allure.story('Adding product to basket')\n    @allure.title('Guest can add product to basket')\n    @pytest.mark.basket\n    @pytest.mark.guest\n    @pytest.mark.smoke\n    @pytest.mark.parametrize(\n        'num',\n        [0, 1, 2, 3, 4, 5, 6, pytest.param(7, marks=pytest.mark.xfail), 8, 9],\n    )\n    def test_guest_can_add_product_to_basket(self, num, product_page):\n        link = (\n            f'https://selenium1py.pythonanywhere.com/catalogue/'\n            f'coders-at-work_207/?promo=offer{num}'\n        )\n        product_page.open_product_page(link)\n        product_page.click_add_to_basket_button()\n        product_page.solve_quiz_and_get_code()\n>       product_page.assert_basket_messages()\n\ntests/test_product_page.py:99: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/product_page.py:65: in assert_basket_messages\n    self.assert_product_name_matches_original_product_name()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.product_page.ProductPage object at 0x7f484b4fd810>\n\n    def assert_product_name_matches_original_product_name(self):\n        original_product_name = self.product_name.text\n        product_name_in_alert = self.success_message.text\n    \n>       assert original_product_name == product_name_in_alert, (\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n            f'Product name should be \"{original_product_name}\", '\n            f'but product name in alert is \"{product_name_in_alert}\"'\n        )\nE       AssertionError: Product name should be \"Coders at Work\", but product name in alert is \"Coders at Work book\"\n\npages/product_page.py:72: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1767124848621,"stop":1767124848622,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1767124875502,"stop":1767124875790,"duration":288},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"product_page","time":{"start":1767124875790,"stop":1767124875790,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"skipped","statusMessage":"XFAIL\n\nAssertionError: Product name should be \"Coders at Work\", but product name in alert is \"Coders at Work book\"","statusTrace":"self = <tests.test_product_page.TestProductPage object at 0x7f484b48e6d0>\nnum = 7\nproduct_page = <pages.product_page.ProductPage object at 0x7f484b4fd810>\n\n    @allure.feature('Product page')\n    @allure.story('Adding product to basket')\n    @allure.title('Guest can add product to basket')\n    @pytest.mark.basket\n    @pytest.mark.guest\n    @pytest.mark.smoke\n    @pytest.mark.parametrize(\n        'num',\n        [0, 1, 2, 3, 4, 5, 6, pytest.param(7, marks=pytest.mark.xfail), 8, 9],\n    )\n    def test_guest_can_add_product_to_basket(self, num, product_page):\n        link = (\n            f'https://selenium1py.pythonanywhere.com/catalogue/'\n            f'coders-at-work_207/?promo=offer{num}'\n        )\n        product_page.open_product_page(link)\n        product_page.click_add_to_basket_button()\n        product_page.solve_quiz_and_get_code()\n>       product_page.assert_basket_messages()\n\ntests/test_product_page.py:99: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/product_page.py:65: in assert_basket_messages\n    self.assert_product_name_matches_original_product_name()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.product_page.ProductPage object at 0x7f484b4fd810>\n\n    def assert_product_name_matches_original_product_name(self):\n        original_product_name = self.product_name.text\n        product_name_in_alert = self.success_message.text\n    \n>       assert original_product_name == product_name_in_alert, (\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n            f'Product name should be \"{original_product_name}\", '\n            f'but product name in alert is \"{product_name_in_alert}\"'\n        )\nE       AssertionError: Product name should be \"Coders at Work\", but product name in alert is \"Coders at Work book\"\n\npages/product_page.py:72: AssertionError","steps":[{"name":"Open Product page","time":{"start":1767124875790,"stop":1767124876659,"duration":869},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"link","value":"'https://selenium1py.pythonanywhere.com/catalogue/coders-at-work_207/?promo=offer7'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click add to basket button","time":{"start":1767124876659,"stop":1767124876725,"duration":66},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Solve quiz and get code for alert","time":{"start":1767124876725,"stop":1767124877769,"duration":1044},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Assert alert basket message with product added to basket is displayed","time":{"start":1767124877769,"stop":1767124877806,"duration":37},"status":"failed","statusMessage":"AssertionError: Product name should be \"Coders at Work\", but product name in alert is \"Coders at Work book\"\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.11/x64/lib/python3.13/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/selenium1py.pythonanywhere_tests/selenium1py.pythonanywhere_tests/pages/product_page.py\", line 65, in assert_basket_messages\n    self.assert_product_name_matches_original_product_name()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/home/runner/work/selenium1py.pythonanywhere_tests/selenium1py.pythonanywhere_tests/pages/product_page.py\", line 72, in assert_product_name_matches_original_product_name\n    assert original_product_name == product_name_in_alert, (\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":4,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"browser::0","time":{"start":1767124877838,"stop":1767124877898,"duration":60},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"story","value":"Adding product to basket"},{"name":"feature","value":"Product page"},{"name":"tag","value":"smoke"},{"name":"tag","value":"guest"},{"name":"tag","value":"basket"},{"name":"tag","value":"regression"},{"name":"tag","value":"product_page"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_product_page"},{"name":"subSuite","value":"TestProductPage"},{"name":"host","value":"runnervmh13bl"},{"name":"thread","value":"2322-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_product_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"num","value":"7"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":["basket","regression","smoke","product_page","guest"]},"source":"b0190e1127c6ecfe.json","parameterValues":["7"]}